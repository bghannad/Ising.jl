using Iterators

include("../src/json_parameters.jl")

for L in [8]
    Ts = [1.0,1.063459265710651,1.126918531421302,1.190377797131953,1.2538370628426039,1.3172963285532548,1.3807555942639058,1.4442148599745568,1.5076741256852078,1.5711333913958587,1.6345926571065097,1.6980519228171607,1.7615111885278116,1.8249704542384626,1.8884297199491136,1.9518889856597645,2.0153482513704155,2.0788075170810667,2.142266782791718,2.205726048502369,2.2691853142130203,2.3326445799236715,2.3961038456343227,2.459563111344974,2.523022377055625,2.5864816427662762,2.6499409084769274,2.7134001741875786,2.77685943989823,2.840318705608881,2.903777971319532,2.9672372370301834,3.0306965027408346,3.0941557684514858,3.157615034162137,3.221074299872788,3.2845335655834393,3.3479928312940905,3.4114520970047417,3.474911362715393,3.53837062842604]
    algorithm = "single"

    prefix = "L_$(L)_$(algorithm)"
    if !(isdir(prefix)) mkdir(prefix) end
    cd(prefix)

    p = Dict{Any, Any}()
    p["L"] = [L]
    p["T"] = Ts
    p["SEED"] = [parse(Int, split( @sprintf("%f", time()), ".")[2])]
    p["THERMALIZATIONS"] = 2^10
    p["MEASUREMENTS"] = 2^20
    p["ALGORITHM"] = [algorithm]
    write_parameters(prefix, p)
    cd("..")
end
